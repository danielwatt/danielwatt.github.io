<!DOCTYPE html>
<html>
<style>
button {
    background-color: #FFFFFF;
    border: none;
    color: black;
    padding: 0px 0px;
    text-align: left;
    text-decoration: none;
    display: inline-block;
    font-size: 16px;
    margin: 4px 2px;
}
button:focus {outline:0;}

button:hover { 
    color: #D3D3D3;
}
</style>
<body>

<h2 id="question">Null</h2>
<h2 id="total"></h2>
<p>
<button id="button0" onclick="nextQuestion(0)">null0</button>
</p><p>
<button id="button1" onclick="nextQuestion(1)">null1</button>
</p><p>
<button id="button2" onclick="nextQuestion(2)">null2</button>
</p><p>
<button id="button3" onclick="nextQuestion(3)">null3</button>
</p>

<h1 id="result">?</h1>

<script>
var answer;

nextQuestion();

function answerSelected(ans){
	console.log ( "answer selected" );
	console.log(answer);
	if (ans == answer){
		document.getElementById("result").innerHTML = "CORRECT"
	} else{
		document.getElementById("result").innerHTML = "INCORRECT"
	}
	nextQuestion()
}

function nextQuestion(){
	var oReq = new XMLHttpRequest();
	oReq.onload = reqListener;
	oReq.open("get", "question.json", true);
	oReq.send();
}

function reqListener(e) {
	var questionData;
    questionData = JSON.parse(this.responseText);
    var totalSize = Object.keys(questionData).length;

    var rand = (Math.random()*totalSize);
    document.getElementById("question").innerHTML = questionData[rand].Q;

    // Randomizing answers
	var arr = [0,0,0,0];
	for (i = 0 ; i<3; i++){

		var randAnswer = (Math.random()*4);

		while (arr[randAnswer] == 1){
			randAnswer = (Math.random()*4);
		}

		arr[randAnswer] = 1;

		document.getElementById("button".concat(randAnswer)).innerHTML = questionData[rand].A[i];

		if (questionData[rand].A[4] == i){
			answer = randAnswer;
		} 
	}

    
}

</script>

</body>
</html>


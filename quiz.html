<!DOCTYPE html>
<html>
<style>
button {
    background-color: #FFFFFF;
    border: none;
    color: black;
    padding: 0px 0px;
    text-align: left;
    text-decoration: none;
    display: inline-block;
    font-size: 16px;
    margin: 4px 2px;
}
button:focus {outline:0;}

button:hover { 
    color: #D3D3D3;
}
</style>
<body>

<h2 id="question">Null</h2>
<h2 id="total"></h2>
<p>
<button id="button0" onclick="answerSelected(0)">null0</button>
</p><p>
<button id="button1" onclick="answerSelected(1)">null1</button>
</p><p>
<button id="button2" onclick="answerSelected(2)">null2</button>
</p><p>
<button id="button3" onclick="answerSelected(3)">null3</button>
</p>

<h1 id="result"></h1>
<p>
<img id="trump" src="http://www.hellenism.net/images/greek-gods.jpg" height="467" width="700">
</p>
<script>
var answer;

nextQuestion();
var winAudio = new Audio('quiz/trumpsounds/good.wav');
var loseAudio = new Audio('quiz/trumpsounds/bad1.wav');
function answerSelected(ans){
	console.log ( "answer selected" );
	var image = document.getElementById('trump');

	if (ans == answer){
		document.getElementById("result").innerHTML = "CORRECT"
		winAudio.currentTime = 0;
		winAudio.play();
		image.src = "quiz/trumppics/good1.jpg";
	} else{
		document.getElementById("result").innerHTML = "INCORRECT"
		winAudio.currentTime = 0;
		winAudio.play();
		var randAud = Math.floor(Math.random()*3)+1;
		winAudio.src('quiz/trumpsounds/bad' + randAud + '.wav');
		image.src = "quiz/trumppics/bad1.jpg";
	}
	nextQuestion()
}

function nextQuestion(){
	var oReq = new XMLHttpRequest();
	oReq.onload = reqListener;
	oReq.open("get", "question.json", true);
	oReq.send();
}

function reqListener(e) {
	var questionData;
    questionData = JSON.parse(this.responseText);
    var totalSize = Object.keys(questionData).length;

    var rand = Math.floor(Math.random()*totalSize);
    document.getElementById("question").innerHTML = questionData[rand].Q;

    console.log("YOLO");

    // Randomizing answers
	var arr = [0,0,0,0];
	for (i = 0 ; i<4; i++){

		var randAnswer = Math.floor(Math.random()*4);

		while (arr[randAnswer] == 1){
			randAnswer = Math.floor(Math.random()*4);
		}

		console.log(i);

		arr[randAnswer] = 1;

		document.getElementById("button".concat(randAnswer)).innerHTML = questionData[rand].A[i];

		if (questionData[rand].A[4] == i){
			answer = randAnswer;
		} 
	}

    
}

</script>

</body>
</html>

